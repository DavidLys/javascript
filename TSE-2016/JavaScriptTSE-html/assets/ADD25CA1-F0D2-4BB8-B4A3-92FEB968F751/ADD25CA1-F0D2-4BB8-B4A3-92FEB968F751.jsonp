local_slide( {"name":"ADD25CA1-F0D2-4BB8-B4A3-92FEB968F751","json":{"assets":{"50BBBEC70A55C5F72607C1EE087344B5":{"type":"texture","index":0,"assetRequest":{"type":"slide","state":"outgoing","slide":"ADD25CA1-F0D2-4BB8-B4A3-92FEB968F751"},"url":{"web":"assets/ADD25CA1-F0D2-4BB8-B4A3-92FEB968F751.svgmap"},"width":1024,"height":768},"A3AF61623FFD44582668FF5F312B68E3":{"type":"texture","index":1,"assetRequest":{"type":"slide","state":"incoming","slide":"CF059861-C660-4690-90F2-91937FCE5F0B"},"url":{"web":"assets/ADD25CA1-F0D2-4BB8-B4A3-92FEB968F751.svgmap"},"width":1024,"height":768}},"events":[{"effects":[{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.0004922987690640373,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"A3AF61623FFD44582668FF5F312B68E3"},{"animations":[{"timeOffset":0,"from":{"scalar":false},"beginTime":0,"repeatCount":0,"fillMode":"both","property":"hidden","autoreverses":false,"duration":0.01,"to":{"scalar":true}}],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"50BBBEC70A55C5F72607C1EE087344B5"}]}]},"effects":[],"duration":0.01,"type":"transition","name":"none","objectID":"0"}],"automaticPlay":false,"hyperlinks":[],"accessibility":[{"text":"update","targetRectangle":{"y":381.7207333445549,"x":797.43603515625,"width":78.66796875,"height":27.21484375}},{"text":"close","targetRectangle":{"y":451.1069332957268,"x":806.08447265625,"width":61.37109375,"height":27.21484375}},{"text":"map","targetRectangle":{"y":312.3345028758049,"x":812.09619140625,"width":49.34765625,"height":27.21484375}},{"text":"connect","targetRectangle":{"y":242.948302924633,"x":790.76220703125,"width":92.015625,"height":27.21484375}},{"text":"Promise = require 'bluebird'","targetRectangle":{"y":4.098239898681641,"x":12.73205184936523,"width":286.576171875,"height":20}},{"text":"mongoose = require 'mongoose'","targetRectangle":{"y":24.09823989868164,"x":12.73205184936523,"width":296.81103515625,"height":20}},{"text":"database = mongoose.createConnection 'mongodb://localhost/jumplyn'","targetRectangle":{"y":64.09823989868164,"x":12.73205184936523,"width":675.5009765625,"height":20}},{"text":"Document = database.model 'Document', require '../core/models/Document'","targetRectangle":{"y":84.09823989868164,"x":12.73205184936523,"width":726.67529296875,"height":20}},{"text":"DocumentFile = Document.discriminator 'DocumentFile', require '../core/models/DocumentFile'","targetRectangle":{"y":104.0982398986816,"x":12.73205184936523,"width":798.3193359375,"height":40}},{"text":"connect = new Promise (resolve, reject) ->","targetRectangle":{"y":164.0982398986816,"x":12.73205184936523,"width":429.8642578125,"height":20}},{"text":"  database.on 'connected', () ->","targetRectangle":{"y":184.0982398986816,"x":12.73205184936523,"width":327.515625,"height":20}},{"text":"    console.log 'Connected to the new database \"jumplyn\"'","targetRectangle":{"y":204.0982398986816,"x":12.73205184936523,"width":583.38720703125,"height":20}},{"text":"    resolve()","targetRectangle":{"y":224.0982398986816,"x":12.73205184936523,"width":133.05322265625,"height":20}},{"text":"  ","targetRectangle":{"y":244.0982398986816,"x":12.73205184936523,"width":20.4697265625,"height":20}},{"text":"connect","targetRectangle":{"y":264.0982398986816,"x":12.73205184936523,"width":71.64404296875,"height":20}},{"text":".then ->","targetRectangle":{"y":284.0982398986816,"x":12.73205184936523,"width":81.87890625,"height":20}},{"text":"  Promise.map oseos, (oseo) ->","targetRectangle":{"y":304.0982398986816,"x":12.73205184936523,"width":307.0458984375,"height":20}},{"text":"    DocumentFile","targetRectangle":{"y":324.0982398986816,"x":12.73205184936523,"width":163.7578125,"height":20}},{"text":"    .update(","targetRectangle":{"y":344.0982398986816,"x":12.73205184936523,"width":122.818359375,"height":20}},{"text":"      _id: oseo._id","targetRectangle":{"y":364.0982398986816,"x":12.73205184936523,"width":194.46240234375,"height":20}},{"text":"    , ","targetRectangle":{"y":384.0982398986816,"x":12.73205184936523,"width":61.4091796875,"height":20}},{"text":"      $set:","targetRectangle":{"y":404.0982398986816,"x":12.73205184936523,"width":112.58349609375,"height":20}},{"text":"        extract:","targetRectangle":{"y":424.0982398986816,"x":12.73205184936523,"width":163.7578125,"height":20}},{"text":"          note: parseInt oseo.note","targetRectangle":{"y":444.0982398986816,"x":12.73205184936523,"width":347.9853515625,"height":20}},{"text":"          abstract: oseo.abstract","targetRectangle":{"y":464.0982398986816,"x":12.73205184936523,"width":337.75048828125,"height":20}},{"text":"          extracts:","targetRectangle":{"y":484.0982398986816,"x":12.73205184936523,"width":194.46240234375,"height":20}},{"text":"            marche: oseo.extracts['marché']","targetRectangle":{"y":504.0982398986816,"x":12.73205184936523,"width":440.09912109375,"height":20}},{"text":"            social: oseo.extracts['social']","targetRectangle":{"y":524.0982398986816,"x":12.73205184936523,"width":440.09912109375,"height":20}},{"text":"    ) ","targetRectangle":{"y":544.0982398986816,"x":12.73205184936523,"width":61.4091796875,"height":20}},{"text":"    .exec()","targetRectangle":{"y":564.0982398986816,"x":12.73205184936523,"width":112.58349609375,"height":20}},{"text":".catch (err) ->","targetRectangle":{"y":584.0982398986816,"x":12.73205184936523,"width":153.52294921875,"height":20}},{"text":"  console.log 'ERROR'","targetRectangle":{"y":604.0982398986816,"x":12.73205184936523,"width":214.93212890625,"height":20}},{"text":"  console.log err.stack","targetRectangle":{"y":624.0982398986816,"x":12.73205184936523,"width":235.40185546875,"height":20}},{"text":".then ->","targetRectangle":{"y":644.0982398986816,"x":12.73205184936523,"width":81.87890625,"height":20}},{"text":"  console.log 'Closing connections.'","targetRectangle":{"y":664.0982398986816,"x":12.73205184936523,"width":368.455078125,"height":20}},{"text":"  database.close()","targetRectangle":{"y":684.0982398986816,"x":12.73205184936523,"width":184.2275390625,"height":20}},{"text":"Capture d’écran 2016-11-15 à 16.57.56.png","targetRectangle":{"y":709.7240600585938,"x":59.68738174438477,"width":90.21121978759766,"height":54.23102188110352}},{"text":"pasted-image.png","targetRectangle":{"y":700.2388916015625,"x":219.7316131591797,"width":126.1227645874023,"height":83.20140075683594}},{"text":"TSE 23 novembre 2016                             @sfrenot, IXXI","targetRectangle":{"y":730.2321774363518,"x":391.669921875,"width":618.26953125,"height":27.21484375}},{"text":"err","targetRectangle":{"y":451.7043148875237,"x":935.2715454101562,"width":32.02734375,"height":27.21484375}}],"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.0004922987690640373,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"texturedRectangle":{"isBackgroundTexture":false,"singleTextureOpacity":1,"textureType":0,"textBaseline":0,"textXHeight":0,"isVerticalText":false},"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"50BBBEC70A55C5F72607C1EE087344B5"}]}]}}]}} )